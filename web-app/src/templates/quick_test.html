{% extends "layout.html" %}


{% block title %}Quick Test{% endblock %}




{% block scripts %}


<!-- <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script> -->

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

{% endblock scripts %}




{% block content %}

{% include 'navbar.html' %}


<hr>
<div class="container" style="color: white; opacity: 0.8;">

    <div class="row">
        <div class="col order-last ml-0">
        </div>


        <div class="col mt-2">
            <div class="col-sm shadow-lg p-3 mb-5 mt-5 ml-2 mr-5 border border-dark rounded"
                style="color: white; opacity: 0.94; width: 690px; font-size: 28px;">


                <p class="mt-3"><i class="fas fa-hand-point-right" style="font-size: 35;"></i> Quicky use this AutoAI based ML Application to Test Likelihood of
                BigMart Sales <i class="fas fa-question" style="font-size: 35px;"></i></p>
                <button type="button" class="btn btn-dark mt-3 mb-3" data-toggle="modal" data-target="#exampleModal1" style="font-size: 22px; font-weight: bold;">
                    Click Here To Start
                </button>

            </div>
        </div>
        <div class="col order-first">

        </div>
    </div>

</div>
<hr>
<hr>

<!-- style="background-color:black; color: white;" -->
<!-- 1st Modal Start here -->
<form action="{{url_for('sample_predict')}}" method="POST" enctype="multipart/form-data" id="submit_form">

    <div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable" role="document">
            <div class="modal-content border-0">
                <div class="modal-header border-0" style="background-color:black; color: white;">
                    <h5 class="modal-title" id="exampleModalLabel" style="opacity: 0.7; margin-left: 7px;">Answer the
                        following questions ( 1 of 2 ) </h5>
                    <button type="button" class="close white" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body " style="background-color:black; color: white; font-size: 18px;">

                    <ul class="list-unstyled" style="list-style: none;" >
                        <li class="list-group-item bg-dark " >
                            <div>
                                <label class="form-control border-0 bg-dark" style="color: white; opacity: 0.72; font-size:18px;">Item_Fat_Content</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" style="margin-left: 18px; opacity: 0.56; width: 175px;" type="text" name="Item_Fat_Content"
                                     value="Low Fat">

                            </div>

                        </li>
                        <li class="list-group-item bg-dark " >
                            <div class="title">
                                <label class="form-control border-0 bg-dark" style="color: white; opacity: 0.72; font-size:18px;">Item_Identifier</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="text" name="Item_Identifier"
                                    style="margin-left: 18px; opacity: 0.56; width: 175px;" value='FDA15'>
                            </div>
                        </li>
                        <li class="list-group-item bg-dark " >
                            <div class="title">
                                <label class="form-control  border-0 bg-dark" style="color: white; opacity: 0.72; font-size:18px;">
                                    Item_MRP
                                </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input style="margin-left: 18px; opacity: 0.56; width: 175px;" class="form-check-input" type="number" name="Item_MRP"
                                     value="249.8092">

                            </div>

                        </li>
                        <li class="list-group-item bg-dark " >
                            <div class="title">
                                <label class="form-control  border-0 bg-dark" style="color: white; opacity: 0.72; font-size:18px;">
                                    Item_Type
                                </label>
                            </div>
                            <div class="form-check form-check-inline mt-3">
                                <input style="margin-left: 18px; opacity: 0.56; width: 175px;" class="form-check-input" type="text" name="Item_Type"
                                     value="Dairy">

                            </div>

                        </li>
                        <li class="list-group-item bg-dark " >
                            <div class="title">
                                <label class="form-control  border-0 bg-dark" style="color: white; opacity: 0.72; font-size:18px;">
                                    Item_Visibility
                                </label>
                            </div>
                            <div class="form-check form-check-inline mt-3">
                                <input style="margin-left: 18px; opacity: 0.56; width: 175px;" class="form-check-input" type="number" name="Item_Visibility"
                                    value="0.016047301">

                            </div>
                            <div class="form-check form-check-inline mt-3">

                            </div>
                        </li>

                    </ul>
                </div>
                <div class="modal-footer border-0" style="background-color:black; color: white;">

                    <button style="color: white; opacity: 0.72; font-size:18px;" type="button" class="btn btn-dark" id="myBtn1"
                        data-dismiss="modal" data-toggle="modal" data-target="#exampleModal2">
                        Next
                    </button>

                </div>
            </div>
        </div>
    </div>



<!-- Second Modal Start here -->




<div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable" role="document">
        <div class="modal-content border-0">
            <div class="modal-header border-0" style="background-color:black; color: white;">
                <h5 class="modal-title" id="exampleModalLabel" style="opacity: 0.7; margin-left: 7px;">Answer the
                    following questions ( 2 of 2 )
                </h5>
                <button type="button" class="close white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>




            <div class="modal-body " style="background-color:black; color: white;">
                <ul class="list-unstyled" style="list-style: none;">


                    <li class="list-group-item bg-dark " >
                        <div class="title">
                            <label class="form-control  border-0 bg-dark" for="q6"
                                style="color: white; opacity: 0.72; font-size:18px;">Item_Weight</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input style="margin-left: 18px; opacity: 0.56; width: 175px;" class="form-check-input" type="number" name="Item_Weight"
                                 value="9.3">

                        </div>

                    </li>


                    <li class="list-group-item bg-dark " >
                        <div class="title">
                            <label class="form-control  border-0 bg-dark" for="q7"
                                style="color: white; opacity: 0.72; font-size:18px;">Outlet_Establishment_Year</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input style="margin-left: 18px; opacity: 0.56; width: 175px;" class="form-check-input" type="number" name="Outlet_Establishment_Year"
                                 value="1999">

                        </div>

                    </li>


                    <li class="list-group-item bg-dark " >
                        <div class="title">
                            <label class="form-control  border-0 bg-dark" for="q8"
                                style="color: white; opacity: 0.72; font-size:18px;">Outlet_Identifier</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input style="margin-left: 18px; opacity: 0.56; width: 175px;" class="form-check-input" type="text" name="Outlet_Identifier"
                                 value="OUT049">
                        </div>

                    </li>
                    <li class="list-group-item bg-dark " >
                        <div class="title">
                            <label class="form-control  border-0 bg-dark" for="q9"
                                style="color: white; opacity: 0.72; font-size:18px;">Outlet_Location_Type</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input style="margin-left: 18px; opacity: 0.56; width: 175px;" class="form-check-input" type="text" name="Outlet_Location_Type"
                                 value="Tier 1">

                        </div>

                    </li>

                    <li class="list-group-item bg-dark " >
                        <div class="title">
                            <label class="form-control  border-0 bg-dark" for="q10"
                                style="color: white; opacity: 0.72; font-size:18px;">Outlet_Size</label>
                        </div>
                        <div class="form-check form-check-inline mt-3">
                            <input style="margin-left: 18px; opacity: 0.56; width: 175px;" class="form-check-input" type="text" name="Outlet_Size"
                                 value="Medium">

                        </div>

                    </li>

                    <li class="list-group-item bg-dark " >
                        <div class="title">
                            <label class="form-control  border-0 bg-dark" for="q10"
                                style="color: white; opacity: 0.72; font-size:18px;">Outlet_Type</label>
                        </div>
                        <div class="form-check form-check-inline mt-3">
                            <input style="margin-left: 18px; opacity: 0.56; width: 175px;" class="form-check-input" type="text" name="Outlet_Type"
                                 value="Supermarket Type1">

                        </div>

                    </li>


                </ul>


            </div>


            <div class="modal-footer border-0" style="background-color:black; color: white;">

                <button onclick="form_submit()" style="color: white; opacity: 0.9;" type="button" class="btn btn-dark"
                    id="mybtn4" data-dismiss="modal">
                    Submit
                </button>
                </form>

            </div>
        </div>
    </div>
</div>



<hr>
<script type="text/javascript">

    var btn = document.querySelector('#myBtn1');
    // handle click button
    btn.onclick = function () {

        var q1 = document.querySelector('input[name = Item_Fat_Content]').value;
        var q2 = document.querySelector('input[name = Item_Identifier]').value;
        var q3 = document.querySelector('input[name = Item_MRP]').value;
        var q4 = document.querySelector('input[name = Item_Type]').value;
        var q5 = document.querySelector('input[name = Item_Visibility]').value;

        if (q2 && q1 && q3 && q4 && q5) {
            //  alert('Next Section')
        }
        else {
            // alert('Swal else')
            Swal.fire({
                icon: 'error',
                title: 'Oops',
                text: 'Answer all the questions.',
                width: 400,
                background: 'black',
            })

            event.stopPropagation();
        }
    };


</script>

<script type="text/javascript">


    function form_submit() {


        var q1 = document.querySelector('input[name = Item_Weight]').value;
        var q2 = document.querySelector('input[name = Outlet_Establishment_Year]').value;
        var q3 = document.querySelector('input[name = Outlet_Identifier]').value;
        var q4 = document.querySelector('input[name = Outlet_Location_Type]').value;
        var q5 = document.querySelector('input[name = Outlet_Size]').value;
        var q6 = document.querySelector('input[name = Outlet_Type]').value;

        if (q2 && q1 && q3 && q4 && q5 && q6) {

            let timerInterval
            Swal.fire({
                title: 'Predicting sample data',
                html: 'Complete in <b></b> milliseconds.',
                timer: 1000,
                timerProgressBar: true,
                width: 400,
                showConfirmButton: false,
                background: 'lightblue',
                willOpen: () => {
                    Swal.showLoading()
                    timerInterval = setInterval(() => {
                        const content = Swal.getContent()
                        if (content) {
                            const b = content.querySelector('b')
                            if (b) {
                                b.textContent = Swal.getTimerLeft()
                            }
                        }
                    }, 100)
                },
                onClose: () => {
                    clearInterval(timerInterval)
                }
            }).then((result) => {


                document.getElementById("submit_form").submit();
            })

        }
        else {

            Swal.fire({
                icon: 'error',
                title: 'Oops',
                text: 'Answer all the questions.',
                width: 400,
                background: 'black',
            })

            event.stopPropagation();
        } 
        
    }

</script>
<hr>
<hr>
{% include 'footer.html' %}
{% endblock content%}